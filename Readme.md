# ScanMyFood
ScanMyFood — iOS-приложение для сканирования штрихкодов продуктов, просмотра информации о продукте и ведения истории сканирования. Данные получаются через OpenFoodFacts API. Приложение реализовано на SwiftUI с использованием архитектуры MVVM и Combine.

# Используемый API

OpenFoodFacts API https://world.openfoodfacts.org/ — бесплатная база продуктов питания.
Эндпоинт: https://world.openfoodfacts.org/api/v0/product/{barcode}.json

# Установка
- Склонируйте репозиторий:
git clone https://github.com/yourusername/ScanMyFood.git
cd ScanMyFood

- Добавьте разрешение на использование камеры в Info.plist:
<key>NSCameraUsageDescription</key>
<string>Приложению требуется доступ к камере для сканирования штрихкодов</string>

- Соберите и запустите приложение на симуляторе с поддержкой камеры или реальном устройстве.

# Технологии

- Swift 5.9 / SwiftUI
- Combine
- MVVM архитектура
- Core Data для хранения истории продуктов
- AVFoundation для работы с камерой
- iOS 16.6+

# Возможности

## Сканирование:
    ✅ Сканирование штрихкодов (EAN13, EAN8, Code128) и QR-кодов с помощью камеры.
    ✅ Запрос на разрешение на камеру. Если пользователь не дал разрешение использовать камеру, показать алерт с кнопкой для перехода в настройки.
    ✅ Должна содержать область сканирования, визуально обозначенную рамкой или выделением
    ✅ Управление фонариком прямо в сканере.
    ✅ Для штрих-кодов продуктов отправлять код в API Open Food Facts для асинхронной загрузки данных (название, бренд, ингредиенты, Nutri-Score)
    ❌ **-[не реализовано]** Предусмотреть валидацию и обработку ошибок с отображением алертов

## Отображение подробной информации о продукте:
    ✅ Для штрихкодов
        ✅ Название, бренд, состав, изображение
        ✅ Пищевая ценность (калории, белки, жиры, углеводы и т.д.)
    ❌ **-[не реализовано]** Если штрих-код НЕ продукта,то отображать полученную информацию
    - Для QR-кодов
        ❌ **-[не реализовано]** Отображать содержимое
        ❌ **-[не реализовано]** Если есть ссылка, то открывать в web view
    ❌ **-[не реализовано]** Кнопка "Поделиться" для отправки отсканированной информации

## Кэширование:
    ✅ Сохранение полученных данных с помощью Core Data. Необходимо учесть, что, если код уже отсканирован и сохранен, повторное сохранение не требуется.
    ❌ **-[не реализовано]** Возможность установить название сохраненного кода.

## Список отсканированных штрих-кодов/QR:
    ✅ Отображение истории отсканированных кодов:
        ✅ Название кода, тип кода (штрих-код/QR), дата сканирования
        ❌ **-[не реализовано]** для QR

# Скриншоты

# TODO:
    - Реализовать переиспользуемость компонентов
    - Убрать магические константы
    - Экран с деталями рефакторинг, наворотила
    
## Баги
    - После того как дать разрешение на камеру, то камера не стартует
    - При повторном открытии деталей, даже нового щтрихкода, картинка не грузитсяя
